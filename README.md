# golang-peoples

## TODO
Реализовать сервис, который будет получать поток ФИО, из открытых api обогащать ответ наиболее вероятными возрастом, полом и национальностью, и сохранять данные в БД. По запросу выдавать инфу о найденных людях. Необходимо реализовать следующее
- [x] Сервис слушает очередь Kafka FIO, в котором приходит информация с ФИО в формате
```go
{
    "name": "Dmitriy",
    "surname": "Ushakov",
    "patronymic": "Vasilevich" // необязательно
}
```
- [x] В случае некорректного сообщения, обогатить его причиной ошибки (нет обязательного поля, некорректный формат...) и отправить в очередь Kafka `FIO_FAILED`
- [ ] Корректное сообщение обогатить
    - Возрастом - https://api.agify.io/?name=Dmitriy
    - Полом - https://api.genderize.io/?name=Dmitriy
    - Национальностью - https://api.nationalize.io/?name=Dmitriy
- [ ] Обогащенное сообщение положить в БД postgres (структура БД должна быть создана путем миграций)
- [ ] Выставить rest методы
    - Для получения данных с различными фильтрами и пагинацией
    - Для добавления новых людей
    - Для удаления по идентификатору
    - Для изменения сущности
- [ ] Выставить GraphQL методы аналогичные п. 5
- [ ] Предусмотреть кэширование данных в Redis
- [ ] Покрыть код логами
- [ ] Покрыть бизнес-логику unit-тестами
- [ ] Вынести все конфигурационные данные в .env
